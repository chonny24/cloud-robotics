<launch>

  <arg name="map_file" default="$(find cloud_robotics)/maps/cloud_test_map.yaml" />
  <node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" respawn="true"/>

  <arg name="world_file"  default="$(find cloud_robotics)/worlds/cloud_robotics_demo.world"/> 
  
  <!-- launch Gazebo -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">  
    <arg name="world_name" value="$(arg world_file)" />          
  </include>                                                     

  <!-- Launch the PR2 -->
  <include file="$(find pr2_gazebo)/launch/pr2.launch" />

  <!-- Teleop for some reason -->
  <include file="$(find pr2_navigation_teleop)/teleop.xml" />

  <!-- launch our AMCL, may need to customize -->
  <include file="$(find cloud_robotics)/launch/pr2/amclpr2.launch" />  

  <!-- Broken in Hydro  
  <include file="$(find pr2_navigation_perception)/lasers_and_filters.xml" /-->

  <!-- The navigation stack and associated parameters -->
  <include file="$(find cloud_robotics)/launch/pr2/move_base.xml" />
  <!--include file="$(find pr2_navigation_global)/move_base.xml" /-->

  <!-- Sets the robot's description? -->
  <include file="$(find pr2_description)/robots/upload_pr2.launch" />


</launch>
